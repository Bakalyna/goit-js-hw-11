{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.js-form'),\n  galleryElem: document.querySelector('.gallery'),\n  loaderElem: document.querySelector('.loader'),\n};\n","export function fetchImg(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const PARAMS = new URLSearchParams({\n    key: '42320174-3e6043d2cde7399227b0118b6',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  const url = `${BASE_URL}?${PARAMS}`;\n  return fetch(url).then(res => res.json());\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from './refs';\n\nconst lightbox = new SimpleLightbox('.gallery a', {});\n\nexport function render(items) {\n  const markup = templateImages(items);\n  refs.galleryElem.innerHTML = markup;\n  lightbox.refresh();\n}\n\nexport function templateImage(item) {\n  console.log(item);\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n        <img class=\"gallery-link\" alt=\"\" src=\"${item.previewURL}\" />\n        </a>\n        <ul class=\"list-content\">\n          <li class=\"list-text\">\n            <p class=\"list-text-item\">Likes <span>${item.likes}</span></p>\n          </li>\n          <li class=\"list-text\">          \n            <p class=\"list-text-item\">Views <span>${item.views}</span></p>\n          </li>\n          <li class=\"list-text\">           \n            <p class=\"list-text-item\">Comments <span>${item.comments}</span></p>\n          </li>\n          <li class=\"list-text\">           \n            <p class=\"list-text-item\">Downloads <span>${item.downloads}</span></p>\n          </li>\n        </ul>\n        </li>`;\n}\n\nfunction templateImages(items) {\n  return items.map(templateImage).join('');\n}\n","import { refs } from './js/refs';\nimport { fetchImg } from './js/pixabay-api';\nimport { render } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nrefs.form.addEventListener('submit', formSubmit);\n\nfunction formSubmit(event) {\n  event.preventDefault();\n\n  const userValue = event.target.firstElementChild.value.trim();\n  if (userValue === '') return;\n  loaderOn();\n  fetchImg(userValue)\n    .then(elem => {\n      if (elem.hits.length === 0) {\n        showError();\n      }\n      loaderOff();\n      render(elem.hits);\n    })\n    .catch(() => {\n      showError();\n    });\n  refs.form.reset();\n}\n\nfunction loaderOn() {\n  refs.loaderElem.classList.remove('is-hidden');\n}\n\nfunction loaderOff() {\n  refs.loaderElem.classList.add('is-hidden');\n}\n\nfunction showError() {\n  iziToast.error({\n    title: `Sorry, there are no images matching your search query. Please try again!`,\n    position: 'topRight',\n    maxWidth: '600px',\n  });\n}\n"],"names":["refs","fetchImg","query","BASE_URL","PARAMS","url","res","lightbox","SimpleLightbox","render","items","markup","templateImages","templateImage","item","formSubmit","event","userValue","loaderOn","elem","showError","loaderOff","iziToast"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,UAAU,EACvC,YAAa,SAAS,cAAc,UAAU,EAC9C,WAAY,SAAS,cAAc,SAAS,CAC9C,ECJO,SAASC,EAASC,EAAO,CAC9B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCPA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAAE,CAAA,EAE7C,SAASC,EAAOC,EAAO,CAC5B,MAAMC,EAASC,EAAeF,CAAK,EACnCV,EAAK,YAAY,UAAYW,EAC7BJ,EAAS,QAAO,CAClB,CAEO,SAASM,EAAcC,EAAM,CAClC,eAAQ,IAAIA,CAAI,EACT;AAAA,kCACyBA,EAAK,aAAa;AAAA,gDACJA,EAAK,UAAU;AAAA;AAAA;AAAA;AAAA,oDAIXA,EAAK,KAAK;AAAA;AAAA;AAAA,oDAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,uDAGPA,EAAK,QAAQ;AAAA;AAAA;AAAA,wDAGZA,EAAK,SAAS;AAAA;AAAA;AAAA,cAItE,CAEA,SAASF,EAAeF,EAAO,CAC7B,OAAOA,EAAM,IAAIG,CAAa,EAAE,KAAK,EAAE,CACzC,CC/BAb,EAAK,KAAK,iBAAiB,SAAUe,CAAU,EAE/C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,OAAO,kBAAkB,MAAM,OACnDC,IAAc,KAClBC,IACAjB,EAASgB,CAAS,EACf,KAAKE,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,IAEFC,IACAZ,EAAOU,EAAK,IAAI,CACtB,CAAK,EACA,MAAM,IAAM,CACXC,GACN,CAAK,EACHpB,EAAK,KAAK,QACZ,CAEA,SAASkB,GAAW,CAClBlB,EAAK,WAAW,UAAU,OAAO,WAAW,CAC9C,CAEA,SAASqB,GAAY,CACnBrB,EAAK,WAAW,UAAU,IAAI,WAAW,CAC3C,CAEA,SAASoB,GAAY,CACnBE,EAAS,MAAM,CACb,MAAO,2EACP,SAAU,WACV,SAAU,OACd,CAAG,CACH"}